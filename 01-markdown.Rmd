# Markdown {#markdown}
`Markdown`的基础语法:

## Markdown 的注释 {#comment}
- 文本注释：依然可使用Ctrl+Shift+C的快捷键，其结果为在待注释的文本前添加`<!--`，在其后添加`-->`
- R代码注释：无论是行内代码还是代码块，对于代码正文（不包括前后的斜引号及大括号里面的内容）来说，依然可使用Ctrl+Shift+C的快捷键，其结果与普通R脚本中的注释相同，为在待注释的文本前加井号`#`

## 标题和段落
### 标题 (Header)
```markdown
# 一级标题
## 二级标题
### 三级标题
#### 四级标题
##### 五级标题
###### 六级标题
```



### 水平线 (Horizontal rule)
```markdown
***
---
```

### 强调 (Emphasize)
- 加粗和斜体
  ```markdown
  *这是斜体*
  _这也是斜体_
  **这是粗体**
  __这也是粗体__
  ***这是粗体也是斜体***
  ___这是粗体也是斜体___
  ```
  
  *这是斜体*   
  
  _这也是斜体_
  
  **这是粗体**
  
  __这也是粗体__
  
  ***这是粗体也是斜体***
  
  ___这是粗体也是斜体___

* 删除线

  ```markdown
  ~~删除这句话~~
  ```
  
  ~~删除这句话~~


### 文字
#### 字体
- `<span style="font-family:宋体;">宋体</span>`显示为<span style="font-family:宋体;">宋体</span>,  
-  `<span style="font-family:Times New Roman;">Times New Roman</span>`显示为<span style="font-family:Times New Roman;">Times New
Roman</span>
- `<span style="font-variant:small-caps;">Small Caps</span>` 显示为 <span style="font-variant:small-caps;">Small Caps</span>
#### 字号

-  `<span style="font-size:25px;">字号25px</span>`显示为 <span style="font-size:25px;">字号25px</span>

#### 文字颜色

- `<span style="color:red;">红色文字</span>`显示为<span style="color:red;">红色文字</span>，
- `<span style="color:#33C0FF;">文字色号#33C0FF</span>`显示为 <span style="color:#33C0FF;">文字色号#33C0FF</span>

#### 背景颜色

  - `<span style="background-color:yellow;">背景为黄色</span>`显示为<span style="background-color:yellow;">背景为黄色</span>
  - `<span style="background-color:#33FF8B;">背景色号为#33FF8B</span>`显示为<span style="background-color:#33FF8B;">背景色号为#33FF8B</span>

#### 划线
- `<span style="text-decoration: underline;">下划线</span>`显示为<span style="text-decoration: underline;">下划线</span>

- `<span style="text-decoration: line-through;">删除线</span>`显示为<span style="text-decoration: line-through;">删除线</span>

- `<span style="text-decoration: overline;">上划线</span>`显示为<span style="text-decoration: overline;">上划线</span>


#### 字体颜色也可以使用`<font>`标签实现.

  `<font color="blue">这段话使用蓝色字体.</font>` 显示为 <font color="blue">这段话使用蓝色字体.</font>
  
  `<font>`标签常用属性:
  
  | 属性 | 描述 |
  |------|------|
  |color   | 颜色
  |face   | 字体|
  |size   | 字体大小|

### 段落
* 一个段落由一行或连续的多行组成。 
* 段落之间以空行分隔。 
* 同一段落内的不同行在转换成HTML或docx等格式后会重新排列，原来的段内换行被当成了空格，这样的规定与LaTeX类似。
* 普通段落不该用空格或制表符来缩进， 不应在行尾留有空格。

- 为了在段内换行并且转化后仍保持段内换行， 输入时在前面行的末尾输入两个或两个以上空格。例如：
  ```markdown
  白日依山尽，黄河入海流。    
  欲穷千里目，更上一层楼。
  ```
  
  显示为：
  
  白日依山尽，黄河入海流。    
  欲穷千里目，更上一层楼。

- 这样做的缺点是末尾的空格是不可见的。 可以使用HTML的<br>标签在段内换行，如：
  ```markdown
  白日依山尽，黄河入海流。<br>
  欲穷千里目，更上一层楼。。
  ```
  
  显示为：
  
  白日依山尽，黄河入海流。<br>
  欲穷千里目，更上一层楼。
  
### 段落对齐和段间距
使用HTML`<p>`标签设置对齐和段间距.

* 对齐
  对齐是`<p>`标签中的`align`属性.

  | 属性 | 描述 |
  |------|------|
  |left   | 左对齐 |
  |right   | 右对齐|
  |center  | 居中对齐|
  |justify  | 两端对齐|
  
  ```markdown
  <p align = "left"> 
  </p>
  ``` 

* 行间距
  使用`<p>`标签的`style`属性进行设置.
  将`line-height`设置为`300%`相当于是三倍行距.
  ```markdown
  <p align = "justify" style="line-height:300%"> 
  </p>
  ```


### 引用(Blockquotes)
- 引用也是段落模式，内容中的换行不起作用，空行导致分段。

  ```markdown
  > 白日依山尽，黄河入海流。
  > 欲穷千里目，更上一层楼。
  ```
  转换成
  
  > 白日依山尽，黄河入海流。
  > 欲穷千里目，更上一层楼。


- 引用段落也可以仅在段落第一行写大于号， 其它行顶格写，例如下面的两段引用：
  ```markdown
  > 远上寒山石径斜，
  白云生处有人家。
  >
  > 停车坐爱枫林晚，
  霜叶红于二月花。。
  ```
  转换成
  
  > 远上寒山石径斜，
  白云生处有人家。
  >
  > 停车坐爱枫林晚，
  霜叶红于二月花。

- 为了在引用中换行，就需要加引用空行。为了排版诗、词之类的内容，希望人为控制换行和引导空格，可以将引用中的`>`替换成`|`，如：
  ```markdown
  | 白日依山尽，
  | 黄河入海流。
  | 欲穷千里目，
  | 更上一层楼。
  ```
  转换成
  
  | 白日依山尽，
  | 黄河入海流。
  | 欲穷千里目，
  | 更上一层楼。 

- 引用内也可以嵌套其它的Markdown格式如标题、列表等。 引用前后应该有空行把引用内容与其他内容分隔开。
  ```markdown
  > 例如
  >  
  > (1) 顶层一；
  >     a) 内层1；
  >     b) 内层2；
  > (2) 顶层二。
  ```
  
  转换成
  
  > 例如
  >  
  > (1) 顶层一；
  >     a) 内层1；
  >     b) 内层2；
  > (2) 顶层二。

### 脚注
Footnotes^[This is a footnote.] are put inside the square brackets after a caret `^[]`, e.g., `^[This is a footnote.]`
 
 
## 列表 (List)

* 有序列表 (Ordered list)
  ```markdown
  1. Item 1
  1. Item 2
  1. Item 3
  ```

* 无序列表 (Unordered list)
  无需列表可以使用`*`或者`-`来创建.

  ```markdown
  * Item 1
  * Item 2
    * Item 2.1
    * Item 2.2
  * Item 3
  ```

  ```markdown
  - Item 1
  - Item 2
    - Item 2.1
    - Item 2.2
  - Item 3
  ```

* 任务列表 (Task list)
  有的markdown编辑器是支持任务列表的,比如github,但是有些也不支持.比如rmakdown就是不支持的(本书就是用rmakrdown写的).
  ```markdown
  - [x] Write the press release
  - [ ] Update the website
  - [ ] Contact the media
  ```
  
* 如果列表项目中有多个段落， 这时两个列表项之间应该以空行分隔， 每个项目除了第一行外，输入的每行内容都应该缩进4个空格或者一个制表符。



## 链接 (Links)
* **内部链接**
  还有一种链接是内部链接，用于文内跳转。 在各级标题行的末尾， 可以添加{#自定义标签}这样的内容， 其中“自定义标签”是自己写的一个标识符， 标识符仅使用英文字母、数字、下划线、减号， 用来区分不同的位置。 比如，本文第一章添加了`markdown`为标签， 就可以用 `[回到第一章](#markdown)` 产生链接 [回到第一章](#markdown)。

* 直接写url
  ```markdown
  https://guangyuzhu.rbind.io/
  ```
  https://guangyuzhu.rbind.io/

* 将网址超链接给某段文字
  ```markdown
  [我的网站](https://guangyuzhu.rbind.io/)
  ```

  [我的网站](https://yylm.rbind.io/)



* HTML插入链接
  使用`<a>`标签.
  ```markdown
  <a href="url">Link text</a>
  ```
  | 属性 | 描述 |
  |------|------|
  |href   | 链接网址url|
  |target   | 在何处打开链接, `_blank`, `_parent`, `_self`, `_top`|
  
  比如我们插入一个网址,点击之后在新的网页打开.

  ```markdown
  <a href="https://guangyuzhu.rbind.io" target = '_blank'>我的网站</a>.
  ```
  <a href="https://guangyuzhu.rbind.io" target = '_blank'>我的网站</a>.

* 将超链接绑定在图片上
  ```markdown
  <a href="https://guangyuzhu.rbind.io" target = '_blank'>
  <img src = 'figures/avatar.jpeg' alt = 'Guangyu Zhu' height = 50% width = 50% />
  </a>
  ```

  点击下图查看我的网站:
  
  <a href="https://guangyuzhu.rbind.io" target = '_blank'>
  <img src = 'figures/avatar.jpg' alt = 'Guangyu Zhu' height = 50% width = 50% />
  </a>

## 数学公式 (Equations) {#markdown-math}
- Inline LaTeX equations can be written in a pair of dollar signs using the LaTeX syntax, e.g., `$f(k) = {n \choose k} p^{k} (1-p)^{n-k}$` (actual output: $f(k) = {n \choose k} p^{k} (1-p)^{n-k}$)

- math expressions of the display style can be written in a pair of double dollar signs, e.g., `$$Y=X\beta+\epsilon$$`, and the output looks like this:
$$Y=X\beta+\epsilon$$

- 用`$$`符号在两端界定的公式后面， 可以用`\tag{标号}`命令增加人为的公式编号，如
  ```markdown
  $$
  Y=X\beta+\epsilon \tag{1}
  $$
  ```

  结果显示为
  $$
  Y=X\beta+\epsilon \tag{1}
  $$

<!-- - 要注意的是， 在`$$`界定的数学公式内用了`aligned`, `cases`等环境后， 仅能在`\end{enviroment}`之后加`\tag{标号}`命令， 而不能写在aligned环境内。 这样， 多行的公式将不能为每行编号。例如, -->
- 要注意的是， `\tag{标号}`命令一个公式只能用一个，这样多行的公式将不能为每行编号。例如,

  ```markdown
  $$f(k;p_0^*) = 
  \begin{cases} p_0^* & \text{if }k=1, \\
  1-p_0^* & \text {if }k=0.\end{cases}  \tag{2}
  $$
  ```
  结果显示为
  $$f(k;p_0^*) = 
  \begin{cases} p_0^* & \text{if }k=1, \\
  1-p_0^* & \text {if }k=0.\end{cases}  \tag{2}
  $$ 
  
  ---
  
  ```markdown
  $$
  \begin{aligned} 
    g(\mu) & = \eta(x)\\
    \eta(X) & = \alpha+\beta x
    \end{aligned}  \tag{2}
  $$
  ```
  
  结果显示为
  $$
  \begin{aligned} 
    g(\mu) & = \eta(x)\\
    \eta(X) & = \alpha+\beta x
    \end{aligned}  \tag{2}
  $$
  
  ---  

  ```markdown
  $$
  X = \begin{bmatrix}1 & x_{1}\\
  1 & x_{2}\\
  1 & x_{3}  \tag{4}
  \end{bmatrix}
  $$
  ```
  结果显示为
  $$
  X = \begin{bmatrix}1 & x_{1}\\
  1 & x_{2}\\
  1 & x_{3}  \tag{4}
  \end{bmatrix}
  $$

- 用`\tag`命令人为编号比较简单易用， 但是在有大量公式需要编号时就很不方便， 只要增加了一个公式就需要人为地重新编号并修改相应的引用。`bookdown`包支持对公式自动编号， 并可以按公式标签引用公式， 引用带有超链接。具体见 §\@ref(bookdown-math).


  
## 代码块 (Code chunks)
  
* 行内代码

  ```markdown
  Add file with `git add`
  ```
  渲染结果:
  Add file with `git add`
  
* 单独代码
 
  ````markdown
  ```bash
  git status
  git commit
  ```
  ````
  
  渲染结果:
  
  ```bash
  git status
  git commit
  ```

* 若代码中要显示斜引号本身，则需要用更多的斜引号括起来，最多含有n个不连续的斜引号要用n+1对斜引号括起来，n+1对斜引号与文本中间用空格分隔
  - 为了显示```` ```code``` ````，我们的代码应该为 ````` ```` ```code``` ```` `````
  - 为了显示``` `隔断``中间文本``隔断` ```，我们的代码应该为```` ``` `隔断``中间文本``隔断` ``` ````

* 如果文本中没有斜引号，用多个斜引号括起来也可以，只要前后个数相同，且都在一行之内，效果与前后用一个斜引号相同。  

* 为了显示
````markdown
```bash
git push
```
````

代码为

``````markdown
````markdown
```bash
git push
```
````
``````



## 表格 (Tables)
- Example 1
  ```markdown
  | Gender    | Age   | Major  |
  | --------- |-------| ----- |
  | M         |18     | Statistics|
  | F         | 19    |   Math |
  ```
  
  | Gender    | Age   | Major  |
  | --------- |-------| ----- |
  | M         |18     | Statistics|
  | F         | 19    |   Math |
- Example 2
  ```markdown
  -------------------------------------------------------------
   Centered   Default           Right Left
    Header    Aligned         Aligned Aligned
  ----------- ------- --------------- -------------------------
     First    row                12.0 Example of a row that
                                      spans multiple lines.
  
    Second    row                 5.0 Here's another one. Note
                                      the blank line between
                                      rows.
  -------------------------------------------------------------
  
  Table: Here's the caption. It, too, may span
  multiple lines.
  ```
  
  -------------------------------------------------------------
   Centered   Default           Right Left
    Header    Aligned         Aligned Aligned
  ----------- ------- --------------- -------------------------
     First    row                12.0 Example of a row that
                                      spans multiple lines.
  
    Second    row                 5.0 Here's another one. Note
                                      the blank line between
                                      rows.
  -------------------------------------------------------------
  
  Table: Here's the caption. It, too, may span
  multiple lines.
  
- Example 3
  ```markdown
  +---------------+---------------+--------------------+
  | Fruit         | Price         | Advantages         |
  +===============+===============+====================+
  | Bananas       | $1.34         | - built-in wrapper |
  |               |               | - bright color     |
  +---------------+---------------+--------------------+
  | Oranges       | $2.10         | - cures scurvy     |
  |               |               | - tasty            |
  +---------------+---------------+--------------------+
  ```
  +---------------+---------------+--------------------+
  | Fruit         | Price         | Advantages         |
  +===============+===============+====================+
  | Bananas       | $1.34         | - built-in wrapper |
  |               |               | - bright color     |
  +---------------+---------------+--------------------+
  | Oranges       | $2.10         | - cures scurvy     |
  |               |               | - tasty            |
  +---------------+---------------+--------------------+


## 图片 (Image)
- 插入图片的基本语法:
  ```markdown
  ![](图片链接或者本地位置)
  ```
- 设置图片大小
  ```markdown
  <img src = '' alt = '' height = 50% width = 50% />
  ```
  常用的一些参数:
  
  | 属性 | 描述 |
  |------|------|
  |alt   | 图像替代文本|
  |src   | 图片链接或者本地地址|
  |height | 图片高度,单位可以是%或者pixel|
  |width | 图片宽度,单位可以是%或者pixel|
  |align | 图片位置,只支持left或者right|

- 图片默认是靠左对齐.如果想要居中,需要使用`<p>`标签,也就是段落.
  ```markdown
  <p align = "center">
  <img src = '' alt = '' height = 50% width = 50% />
  </p>
  ```


## 插入icon

可以插入符号工具包`Font Awesome`.一般的markdown编辑器都已经支持直接使用HTML插入icon.

比如插入微信图标:

```markdown
<i class="fa fa-weixin"></i>
```

<i class="fa fa-weixin"></i>

如果不支持,可以在markdown的最底端插入下面的代码:

```markdown
<head> 
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/all.js"></script> 
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/v4-shims.js"></script> 
</head> 
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">
```

当然也可以使用HTML的`<a>`标签让icon绑定一个超链接.

```markdown
<a href="https://guangyuzhu.rbind.io"><i class="fa fa-weixin"></i></a>
```

<a href="https://guangyuzhu.rbind.io"><i class="fa fa-weixin"></i></a>





## 视频 (Video)和音乐 (music)
### 本地视频
```html
<div class="embed-responsive embed-responsive-16by9">
<video width="70%" controls>
  <source src="videos/Cherry Blossom.mp4" type="video/mp4">
</video>
</div>
```
<div class="embed-responsive embed-responsive-16by9">
<video width="70%" controls>
  <source src="videos/Cherry Blossom.mp4" type="video/mp4">
</video>
</div>



### 本地音频
```html
<figure>
    <!--<figcaption>Listen to :</figcaption>-->
    <audio controls loop autoplay>
        <source src="audios/Primrose, the Dancer.m4a"  type="audio/mp3">>
    </audio>
</figure>   
```
<figure>
    <!--<figcaption>Listen to :</figcaption>-->
    <audio controls>
        <source src="audios/Primrose, the Dancer.m4a"  type="audio/mp3">>
    </audio>
</figure>        


### Embed audio from soundcloud
[Soundcloud](https://soundcloud.com/)
```html
<!-- I changed the code to make it minimal -->
<iframe width="50%" height="66" 
        scrolling="no" frameborder="no" 
        allow="autoplay" 
        src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/471669768&color=%23ff5500&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=false">
</iframe>
```

<!-- I changed the code to make it minimal -->
<iframe width="50%" height="66" 
        scrolling="no" frameborder="no" 
        allow="autoplay" 
        src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/471669768&color=%23ff5500&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=false">
</iframe>


## 添加附件
用HTML语法实现：
```html
<a href="data/AZT.Rdata" download="AZT.Rdata">点击下载附件 *AZT.Rdata*</a>
```

效果为

<a href="data/AZT.Rdata" download="AZT.Rdata">点击下载附件 *AZT.Rdata*</a>

